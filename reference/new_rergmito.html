<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>ERGMito sampler — new_rergmito • ergmito</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="ERGMito sampler — new_rergmito" />
<meta property="og:description" content="Create a sampler object that allows you simulating streams of small networks
fast." />
<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-70821549-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-70821549-2');
</script>


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ergmito</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/ergm-equations.html">ERGM equations</a>
    </li>
    <li>
      <a href="../articles/extending-ergmito.html">Extending ergmito</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>ERGMito sampler</h1>
    
    <div class="hidden name"><code>new_rergmito.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Create a sampler object that allows you simulating streams of small networks
fast.</p>
    </div>

    <pre class="usage">new_rergmito(
  model,
  theta = NULL,
  sizes = NULL,
  cl = NULL,
  ncores = 1L,
  force = FALSE,
  ...
)

# S3 method for ergmito_sampler
[(x, i, j, ...)

# S3 method for ergmito_sampler
print(x, ...)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>model</th>
      <td><p>A formula.</p></td>
    </tr>
    <tr>
      <th>theta</th>
      <td><p>Named vector. Model parameters.</p></td>
    </tr>
    <tr>
      <th>sizes</th>
      <td><p>Integer vector. Values between 2 to 5 (6 becomes too intensive).</p></td>
    </tr>
    <tr>
      <th>cl</th>
      <td><p>An object of class <a href='https://rdrr.io/r/parallel/makeCluster.html'>cluster</a>.</p></td>
    </tr>
    <tr>
      <th>ncores</th>
      <td><p>Integer. Number of processors to use.</p></td>
    </tr>
    <tr>
      <th>force</th>
      <td><p>Logical. When <code>FALSE</code> (default) will try to use <code>ergmito</code>'s stat
count functions (see <a href='count_stats.html'>count_stats</a>). This means that if one of the requested
statistics in not available in <code>ergmito</code>, then we will use <code>ergm</code> to compute
them, which is significantly slower (see details).</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Further arguments passed to <a href='https://rdrr.io/pkg/ergm/man/ergm.allstats.html'>ergm::ergm.allstats</a>.</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>An object of class <code>ergmito_sampler</code>.</p></td>
    </tr>
    <tr>
      <th>i, j</th>
      <td><p><code>i</code> is an integer vector indicating the indexes of the networks to
draw, while <code>j</code> the corresponding sizes. These need not to be of the same size.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An environment with the following objects:</p><ul>
<li><p><code>calc_prob</code> A function to calculate each graph's probability under the
specified model.</p></li>
<li><p><code>call</code> A language object with the call.</p></li>
<li><p><code>counts</code> A list with 3 elements: <code>stats</code> the sufficient statistics of each network,
<code>weights</code> and <code>statmat</code> the overall matrices of sufficient statistics used to
compute the likelihood.</p></li>
<li><p><code>network0</code> The baseline network used to either fit the model or obtain
attributes.</p></li>
<li><p><code>networks</code> A list with the actual sample space of networks.</p></li>
<li><p><code>prob</code> A numeric</p></li>
<li><p><code>sample</code> A function to draw samples. <code>n</code> specifies the number of samples to
draw, <code>s</code> the size of the networks, and <code>theta</code> the parameter to use to
calculate the likelihoods.</p></li>
<li><p><code>theta</code> Named numeric vector with the current values of the model parameters.</p></li>
</ul>

<p>The indexing method <code>[.ergmito_sampler</code> returns a named list of length
<code><a href='https://rdrr.io/r/base/length.html'>length(j)</a></code>.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>While the <a href='https://CRAN.R-project.org/package=ergm'><span class="pkg">ergm</span></a> package is very efficient, it was not built to do some
of the computations required in the ergmito package. This translates in having
some of the functions of the package (ergm) with poor speed performance. This
led us to "reinvent the wheel" in some cases to speed things up, this includes
calculating observed statistics in a list of networks.</p>
<p>The indexing method, <code>[.ergmito_sampler</code>, allows extracting networks
directly by passing indexes. <code>i</code> indicates the index of the networks to draw,
which go from 1 through <code>2^(n*(n-1))</code>, and <code>j</code> indicates the requested
size.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># We can generate a sampler from a random graph</span>
<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span>(<span class='fl'>7131</span>)
<span class='no'>ans</span> <span class='kw'>&lt;-</span> <span class='fu'>new_rergmito</span>(<span class='fu'><a href='rbernoulli.html'>rbernoulli</a></span>(<span class='fl'>4</span>) ~ <span class='no'>edges</span>)

<span class='co'># Five samples</span>
<span class='no'>ans</span>$<span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span>(<span class='fl'>5</span>, <span class='kw'>s</span> <span class='kw'>=</span> <span class='fl'>4</span>)</div><div class='output co'>#&gt; [[1]]
#&gt;      [,1] [,2] [,3] [,4]
#&gt; [1,]    0    1    1    0
#&gt; [2,]    1    0    0    0
#&gt; [3,]    0    0    0    1
#&gt; [4,]    1    1    1    0
#&gt; 
#&gt; [[2]]
#&gt;      [,1] [,2] [,3] [,4]
#&gt; [1,]    0    1    1    1
#&gt; [2,]    1    0    1    1
#&gt; [3,]    1    1    0    1
#&gt; [4,]    0    1    1    0
#&gt; 
#&gt; [[3]]
#&gt;      [,1] [,2] [,3] [,4]
#&gt; [1,]    0    1    1    0
#&gt; [2,]    1    0    1    1
#&gt; [3,]    1    1    0    1
#&gt; [4,]    1    0    0    0
#&gt; 
#&gt; [[4]]
#&gt;      [,1] [,2] [,3] [,4]
#&gt; [1,]    0    1    1    0
#&gt; [2,]    0    0    0    0
#&gt; [3,]    0    0    0    0
#&gt; [4,]    1    1    0    0
#&gt; 
#&gt; [[5]]
#&gt;      [,1] [,2] [,3] [,4]
#&gt; [1,]    0    0    0    1
#&gt; [2,]    0    0    1    1
#&gt; [3,]    0    0    0    1
#&gt; [4,]    1    1    1    0
#&gt; </div><div class='input'>
<span class='co'># or we can use some nodal data:</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>fivenets</span>)
<span class='no'>ans</span> <span class='kw'>&lt;-</span> <span class='fu'>new_rergmito</span>(
  <span class='no'>fivenets</span><span class='kw'>[[</span><span class='fl'>3</span>]] ~ <span class='no'>edges</span> + <span class='fu'>nodematch</span>(<span class='st'>"female"</span>),
  <span class='kw'>theta</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(-<span class='fl'>1</span>, <span class='fl'>1</span>)
)

<span class='co'># Five samples</span>
<span class='no'>ans</span>$<span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span>(<span class='fl'>5</span>, <span class='kw'>s</span> <span class='kw'>=</span> <span class='fl'>4</span>) <span class='co'># All these networks have a "female" vertex attr</span></div><div class='output co'>#&gt; [[1]]
#&gt;  Network attributes:
#&gt;   vertices = 4 
#&gt;   directed = TRUE 
#&gt;   hyper = FALSE 
#&gt;   loops = FALSE 
#&gt;   multiple = FALSE 
#&gt;   bipartite = FALSE 
#&gt;   total edges= 6 
#&gt;     missing edges= 0 
#&gt;     non-missing edges= 6 
#&gt; 
#&gt;  Vertex attribute names: 
#&gt;     female vertex.names 
#&gt; 
#&gt; No edge attributes
#&gt; 
#&gt; [[2]]
#&gt;  Network attributes:
#&gt;   vertices = 4 
#&gt;   directed = TRUE 
#&gt;   hyper = FALSE 
#&gt;   loops = FALSE 
#&gt;   multiple = FALSE 
#&gt;   bipartite = FALSE 
#&gt;   total edges= 1 
#&gt;     missing edges= 0 
#&gt;     non-missing edges= 1 
#&gt; 
#&gt;  Vertex attribute names: 
#&gt;     female vertex.names 
#&gt; 
#&gt; No edge attributes
#&gt; 
#&gt; [[3]]
#&gt;  Network attributes:
#&gt;   vertices = 4 
#&gt;   directed = TRUE 
#&gt;   hyper = FALSE 
#&gt;   loops = FALSE 
#&gt;   multiple = FALSE 
#&gt;   bipartite = FALSE 
#&gt;   total edges= 7 
#&gt;     missing edges= 0 
#&gt;     non-missing edges= 7 
#&gt; 
#&gt;  Vertex attribute names: 
#&gt;     female vertex.names 
#&gt; 
#&gt; No edge attributes
#&gt; 
#&gt; [[4]]
#&gt;  Network attributes:
#&gt;   vertices = 4 
#&gt;   directed = TRUE 
#&gt;   hyper = FALSE 
#&gt;   loops = FALSE 
#&gt;   multiple = FALSE 
#&gt;   bipartite = FALSE 
#&gt;   total edges= 2 
#&gt;     missing edges= 0 
#&gt;     non-missing edges= 2 
#&gt; 
#&gt;  Vertex attribute names: 
#&gt;     female vertex.names 
#&gt; 
#&gt; No edge attributes
#&gt; 
#&gt; [[5]]
#&gt;  Network attributes:
#&gt;   vertices = 4 
#&gt;   directed = TRUE 
#&gt;   hyper = FALSE 
#&gt;   loops = FALSE 
#&gt;   multiple = FALSE 
#&gt;   bipartite = FALSE 
#&gt;   total edges= 5 
#&gt;     missing edges= 0 
#&gt;     non-missing edges= 5 
#&gt; 
#&gt;  Vertex attribute names: 
#&gt;     female vertex.names 
#&gt; 
#&gt; No edge attributes
#&gt; </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by George Vega Yon, Army Research Laboratory and the U.S. Army Research Office.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


